go athena

line x loc=3.4 spac=0.1 
line x loc=5.3 spac=0.06
#line x loc=10 spac=0.06
#line x loc=13 spac=0.1 
#
line y loc=0.0 spac=0.001
line y loc=0.05 spac=0.001
line y loc=0.2 spac=0.01
line y loc=2 spac=0.1
line y loc=10 spac=0.5 

init orientation=100 c.boron=6e15 space.mul=2 two.d width.str=10

# passo 1 
deposit oxide thick=0.5 

# passo 2
deposit photoresist thick=1

structure outfile=projeto31.str

#tonyplot  projeto31.str 

etch photoresist right p1.x=3 
#etch photoresist start x=3.00 y=0.00 
#etch cont x=12.00 y=0.00
#etch cont x=12.00 y=-10.00 
#etch done x=3.00 y=-10.00

 
structure outfile=projeto32.str
#tonyplot  projeto32.str

etch oxide thick=0.5
etch photoresist thick=0.5 
structure outfile=projeto33.str
#tonyplot  projeto33.str

# passo 3
diffus time=47 temp=900 dryo2 press=1.00 hcl=3

structure outfile=projeto34.str
#tonyplot  projeto34.str

# passo 4
implant boron dose=3.24e12 energy=30 pears tilt=7 rotation=0 crystal
structure outfile=projeto35.str
tonyplot  projeto35.str

# passo 5 a adicionar posteriormente
implant boron dose=1e18 energy=160 pears tilt=7 rotation=0 crystal

# passo 6 
etch photoresist all 

deposit polysilicon thick=0.4 temp=600 time=15 minutes
structure outfile=projeto36.str
#tonyplot  projeto36.str

# passo 7. ajustar parametro depois
implant phos dose=4e16 energy=50 pears tilt=7 rotation=0 poly
# diffus time=15 temp=600 nitro press=1 

structure outfile=projeto37.str
#tonyplot  projeto37.str

# passo 8
deposit photoresist thick=1

etch photoresist left p1.x=5 
# etch photoresist right p1.x=10 
structure outfile=projeto38.str
#tonyplot  projeto38.str

etch poly thick=0.9
etch oxide thick=0.02
structure outfile=projeto39.str
#tonyplot  projeto39.str


etch photoresist all
structure outfile=projeto311.str
#tonyplot  projeto311.str

# passo 9
implant phos dose=4e15 energy=50 pears tilt=7 rotation=0 crystal
structure outfile=projeto312.str
tonyplot  projeto312.str
# passo 10
diffus time=20 minutes temp=940 nitro press=1 
structure outfile=projeto313.str
#tonyplot  projeto313.str

# passo 11
deposit oxide thick=0.4 
# passo 12
diffus time=10 minutes temp=940 nitro press=1 
structure outfile=projeto314.str
#tonyplot  projeto314.str

# passo 13
deposit photoresist thick=1
etch photoresist left p1.x=4 
# etch photoresist right p1.x=11

structure outfile=projeto315.str
#tonyplot  projeto315.str

#etch photoresist start x=6.25 y=-2.00
#etch cont x=8.75 y=-2.00
#etch cont x=8.75 y=0
#etch done x=6.25 y=0

etch photoresist right p1.x=6.25

structure outfile=projeto316.str
#tonyplot  projeto316.str

etch oxide thick=0.5
etch photoresist thick=2
structure outfile=projeto317.str
tonyplot  projeto317.str
# passo 14
deposit titanium thick=0.1 
# passo 15
deposit aluminum thick=1 

structure outfile=projeto318.str
#tonyplot  projeto318.str
deposit photoresist thick=1
etch photoresist start x=4 y=-4
etch cont x=6.25 y=-4
etch cont x=6.25 y=0
etch done x=4 y=0

#etch photoresist start x=8.75 y=-4
#etch cont x=11 y=-4
#etch cont x=11 y=0
#etch done x=8.75 y=0

structure outfile=projeto319.str
#tonyplot  projeto319.str

etch aluminum thick=1.6
etch titanium thick=1
structure outfile=projeto320.str
#tonyplot  projeto320.str

etch photoresist all 


structure outfile=projeto321.str
tonyplot  projeto321.str

# Extract design parameters

# extract final S/D Xj
extract name="nxj" xj silicon mat.occno=1 x.val=3.6 junc.occno=1

# extract the N++ regions sheet resistance
extract name="n++ sheet rho" sheet.res material="Silicon" mat.occno=1 x.val=3.5 region.occno=1

# extract the surface conc under the channel.
extract name="chan surf conc" surf.conc impurity="Net Doping" \
	material="Silicon" mat.occno=1 x.val=7

# extract a curve of conductance versus bias.
extract start material="Polysilicon" mat.occno=1 \
	bias=0.0 bias.step=0.2 bias.stop=2 x.val=7
extract done name="sheet cond v bias" \
	curve(bias,1dn.conduct material="Silicon" mat.occno=1  region.occno=1)\
	outfile="extract.dat"

# extract the long chan Vt
extract name="n1dvt" 1dvt ntype vb=0.0 qss=1e10 x.val=7

structure mirror right

# Name the electrodes...
electrode name=gate x=5.3 y=-0.2 
electrode name=source x=3.6 y=-0.2
electrode name=drain x=6.8 y=-0.2
electrode name=substrate backside

solve vdrain=0.1 vstep=1 vfinal=10.0 name=drain 
structure outfile=projeto3f.str

# plot the structure
tonyplot  projeto3f.str -set projeto3f.set

############# Vt Test : Returns Vt, Beta and Theta ################
go atlas

# set material models
models cvt srh print 

contact name=gate n.poly
interface qf=1e11

method newton
solve init

# Bias the drain 1
solve vdrain=0.1 vstep=0.2 vfinal=1.0 name=drain 

# Ramp the gate
log outf=projeto3f1.log master
solve vgate=-1.5 vstep=0.1 vfinal=3.0 name=gate
save outf=projeto3f1.str

# Bias the drain 2
solve vdrain=0.1 vstep=0.2 vfinal=2.0 name=drain 

# Ramp the gate
log outf=projeto3f2.log master
solve vgate=-1.5 vstep=0.1 vfinal=3.0 name=gate
save outf=projeto3f1.str

# Bias the drain 3
solve vdrain=0.1 vstep=0.2 vfinal=3.0 name=drain 

# Ramp the gate
log outf=projeto3f3.log master
solve vgate=-1.5 vstep=0.1 vfinal=3.0 name=gate
save outf=projeto3f1.str

# plot results
tonyplot  projeto3f1.log -set projeto3f1.set

# extract device parameters
extract name="nvt" (xintercept(maxslope(curve(abs(v."gate"),abs(i."drain")))) \
	- abs(ave(v."drain"))/2.0)
extract name="nbeta" slope(maxslope(curve(abs(v."gate"),abs(i."drain")))) \
	* (1.0/abs(ave(v."drain")))
extract name="ntheta" ((max(abs(v."drain")) * $"nbeta")/max(abs(i."drain"))) \
	- (1.0 / (max(abs(v."gate")) - ($"nvt")))

quit


